<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${cv.name} + ' - CV'">Mi CV</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Fondo degradado suave */
        body {
            background: linear-gradient(to bottom right, #a8edea, #fed6e3);
            min-height: 100vh;
        }

        /* Contenedor principal */
        .cv-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 900px;
            margin: 40px auto;
        }

        /* Permitir saltos de línea en el resumen */
        .summary {
            white-space: pre-line;
        }

        /* Imagen de perfil */
        img {
            border: 3px solid #dee2e6;
        }

        footer {
            font-size: 0.9em;
            color: #6c757d;
        }
    </style>
</head>
<body>

    <div class="cv-container">
        <!-- HEADER con foto a la izquierda -->
        <header class="mb-4 row align-items-center">
            <div class="col-md-3 text-center">
                <img th:src="@{${cv.photo}}" alt="Foto de perfil"
                     class="img-fluid rounded-circle shadow-sm"
                     style="max-width: 150px;">
            </div>
            <div class="col-md-9">
                <h1 th:text="${cv.name}">Nombre</h1>
                <h4 class="text-muted" th:text="${cv.title}">Título</h4>
                <p class="summary" th:text="${cv.summary}">Resumen</p>
            </div>
        </header>

        <section class="mb-4">
            <h3>Experiencia</h3>
            <div th:each="job : ${cv.experience}" class="mb-3">
                <h5>
                    <span th:text="${job.role}">Rol</span> - 
                    <span th:text="${job.company}">Empresa</span>
                </h5>
                <small class="text-muted" th:text="${job.period}">Periodo</small>
                <ul>
                    <li th:each="detail : ${job.details}" th:text="${detail}">Detalle</li>
                </ul>
            </div>
        </section>

        <section class="mb-4">
            <h3>Educación</h3>
            <div th:each="edu : ${cv.education}">
                <p>
                    <strong th:text="${edu.degree}">Grado</strong> - 
                    <span th:text="${edu.institution}">Institución</span> 
                    (<span th:text="${edu.period}">Periodo</span>)
                </p>
            </div>
        </section>

        <section class="mb-4">
            <h3>Habilidades</h3>
            <ul>
                <li th:each="skill : ${cv.skills}" th:text="${skill}">Skill</li>
            </ul>
        </section>

        <section class="mb-4">
            <h3>Idiomas</h3>
            <ul>
                <li th:each="lang : ${cv.languages}" th:text="${lang.name} + ' - ' + ${lang.level}">Idioma</li>
            </ul>
        </section>

        <footer class="mt-5 text-center">
            <hr>
            <p>
                CV actualizado en 
                <a href="https://www.linkedin.com/in/juliangomezfdez/" target="_blank">
                    linkedin.com/in/juliangomezfdez
                </a>
            </p>
        </footer>
    </div>

</body>
</html>
